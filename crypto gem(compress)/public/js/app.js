var walletType="BSC",dataType="balance";let arrow=document.querySelectorAll(".arrow");for(var i=0;i<arrow.length;i++)arrow[i].addEventListener("click",a=>{let b=a.target.parentElement.parentElement;b.classList.toggle("showMenu")});let sidebar=document.querySelector(".sidebar"),sidebarBtn=document.querySelector(".bx-menu");sidebarBtn.addEventListener("click",()=>{sidebar.classList.toggle("close")});const getPlaceholder=()=>{null===localStorage.getItem("walletType")&&localStorage.setItem("walletType","BSC");let a=localStorage.getItem("walletType");return"BSC"===a?(walletType="BSC","Enter BEP-20 address here to check its porfolio"):"ETH"===a?(walletType="ETH","Enter ERC-20 address here to check its porfolio"):"MATIC"===a?(walletType="MATIC","Enter MATIC address here to check its porfolio"):void 0};if("/"===window.location.pathname){let a=document.getElementById("address");a.placeholder=getPlaceholder()}const myWallet=a=>{localStorage.setItem("walletType",a),window.location.assign(window.location.origin)};if("/"===window.location.pathname){let a=document.getElementById("address"),b=document.getElementById("btn");b.addEventListener("click",()=>{let b=a.value.split(" ").join("");""!=b&&(window.location=`/address?address=${b}&type=${walletType}`)})}const getWallerAddressAndType=()=>{let a=window.location.search.replace(/^.*?\=/,"").split("&type="),b=a[1].split("&contract=");return a[1]=b[0],a[2]=b[1],a},getChainId=a=>{if("BSC"===a)return 56;return"ETH"===a?1:"MATIC"===a?137:void 0},getTransaction=a=>{let[b,c]=getWallerAddressAndType();window.location=`/transaction?address=${b}&type=${walletType}&contract=${a}`},showCopy=a=>{let b=document.createElement("div");b.classList.add("show-copy"),b.innerHTML=`copied:${a}`,document.body.appendChild(b),setTimeout(()=>{b.parentNode.removeChild(b)},2e3)},copy=a=>{let b=document.createElement("input");b.setAttribute("value",a),document.body.appendChild(b),b.select(),document.execCommand("copy"),b.parentNode.removeChild(b),showCopy(a)},addBalanceTable=(a,b,c,d,e)=>{let f=document.createElement("tr");f.innerHTML=`
  <td>${a}</td>
  <td>${b}</td>
  <td onclick="copy('${c}')" class="address"><span>${c}</span></td>
  <td>${d}</td>
  <td>$${e}</td>
  <td><button class="btn" onclick="getTransaction('${c}')">Get Tx</button></td>
  `,document.getElementById("table-body").appendChild(f)},addTransactionTable=(a,b,c,d,e,f)=>{let g=document.createElement("tr");g.innerHTML=`
  <td >${a}</td>
  <td onclick="copy('${b}')" class="address">${b}</td>
  <td onclick="copy('${c}')" class="address">${c}</td>
  <td >${d}</td>
  <td onclick="copy('${e}')" class="address">${e}</td>
  <td>${f}</td>
  `,document.getElementById("table-body").appendChild(g)},processData=a=>{"balance"===dataType?(document.getElementById("table-body").innerHTML="",a.forEach(a=>{let b=a.contract_name,c=a.contract_ticker_symbol,d=a.contract_address,e=a.contract_decimals,f=parseFloat(a.balance);f/=parseFloat(`1e${e}`),f=f.toFixed(2);let g=parseFloat(a.quote);g=g.toFixed(2),addBalanceTable(b,c,d,f,g)})):"transaction"===dataType&&(document.getElementById("table-body").innerHTML="",a.forEach(a=>{let b=new Date(a.block_signed_at);b=b.toLocaleString("en-US");let c=a.transfers[0].tx_hash,d=a.transfers[0].from_address,e=a.transfers[0].transfer_type,f=a.transfers[0].to_address,g=parseFloat(a.transfers[0].delta);g/=parseFloat(`1e${a.transfers[0].contract_decimals}`),g=g.toFixed(2),addTransactionTable(b,c,d,e,f,g)}))},getChart=a=>{let b=[],c=[];a.forEach(a=>{b.push(a.quote),c.push(a.contract_ticker_symbol)});let d=550<=window.innerWidth?380:320;let e={series:b,chart:{width:d,type:"pie"},labels:c,responsive:[{breakpoint:310,options:{chart:{width:d},legend:{position:"bottom"}}}]};document.getElementById("chart").innerHTML="";let f=new ApexCharts(document.getElementById("chart"),e);f.render()},showBalance=a=>{let b=0,c=document.getElementById("balance");a.forEach(a=>{b+=a.quote}),b=b.toFixed(2),c.innerText="",c.innerText=` ${b} $`},getData=(a,b)=>{"balance"===dataType?fetch(`https://api.covalenthq.com/v1/${getChainId(walletType)}/address/${a}/balances_v2/?key=ckey_01f2b4e6820d4ca8b9ed11a55ee`).then(a=>a.json()).then(a=>{processData(a.data.items),getChart(a.data.items),showBalance(a.data.items),document.getElementById("hideAll").style.display="none"}).catch(c=>{console.log(c),getData(a,b)}):"transaction"===dataType&&fetch(`https://api.covalenthq.com/v1/${getChainId(walletType)}/address/${a}/transfers_v2/?contract-address=${b}&key=ckey_6bbe8075199349f694219f46c61`).then(a=>a.json()).then(a=>{processData(a.data.items),document.getElementById("hideAll").style.display="none"}).catch(a=>console.log(a))},detectURLs=a=>{return a.match(/(((https?:\/\/)|(www\.))[^\s]+)/g)},showAirdrop=a=>{let b=document.getElementById("airdrop-container"),c=document.createElement("div");if(c.classList.add("airdrop"),null!=a.img){let b=document.createElement("img");b.src=a.img,c.appendChild(b)}a.body.forEach(a=>{let b=document.createElement("p");if(detectURLs(a)){let b=detectURLs(a);a=a.replace(b,`<a href="${b}" target="_blank">${b}</a>`)}b.innerHTML=a,c.appendChild(b)});let d=document.createElement("p");d.classList.add("date"),d.innerText=a.date,c.appendChild(d),b.appendChild(c)},getAirdrop=()=>{fetch(`${window.origin}/data/airdrop`).then(a=>a.json()).then(a=>{a=a.reverse(),a.forEach(a=>{showAirdrop(a)}),document.getElementById("hideAll").style.display="none"}).catch(a=>console.log(a))},showAds=()=>{let a=document.getElementById("ads-container");fetch(`${window.origin}/data/ads`).then(a=>a.json()).then(b=>{b.forEach(b=>{let c=document.createElement("a");c.href=b.link,c.target="_blank";let d=document.createElement("img");d.src=b.img,c.appendChild(d),a.appendChild(c)})})},showCoin=(a,b,c,d)=>{let e=document.createElement("tr");e.innerHTML=`
  <td ><div class="name"><img src="${b}"><span>${a}</span></div></td>
  <td >${d}</td>
  <td >$${c}</td>`,document.getElementById("table-body").appendChild(e)},getCoins=()=>{fetch(`${window.origin}/data/coins`).then(a=>a.json()).then(a=>{a.forEach(a=>{let b,c,d=a.name,e=a.img;fetch(`https://api.covalenthq.com/v1/pricing/historical_by_addresses_v2/${a.chainId}/USD/${a.address}/?key=ckey_01f2b4e6820d4ca8b9ed11a55ee`).then(a=>a.json()).then(a=>{b=a.data[0].prices[0].price,c=a.data[0].contract_ticker_symbol,showCoin(d,e,b,c)})}),document.getElementById("hideAll").style.display="none"})};if("/address"===window.location.pathname){let a=document.getElementById("wallet-address"),[b,c,d]=getWallerAddressAndType();walletType=c,dataType="balance",setInterval(()=>{getData(b)},3e4),a.innerText=b,showAds()}else if("/transaction"===window.location.pathname){let[a,b,c]=getWallerAddressAndType();walletType=b,dataType="transaction",setInterval(()=>{getData(a,c)},3e4),showAds()}else"/airdrop"===window.location.pathname?getAirdrop():"/"===window.location.pathname&&getCoins();const hideDiscalimer=()=>{document.getElementById("discalimer").style.display="none"};